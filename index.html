<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Landing Page Reveal Animation | jamesdennis.org</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="pre-loader">
        <div class="loader"></div>
        <div class="loader-bg"></div>
      </div>
      <div class="loader-content">
        <div class="count"><p>0</p></div>
        <div class="copy"><p class="ml16">jamesdennis.org</p></div>
      </div>
      <div class="loader-2"></div>
    </div>
    <div class="site-content">
      <nav>
        <div class="logo">
          <a href="https://jamesdennis.org">jamesdennis.org</a>
        </div>
        <div class="links">
          <a href="https://jamesdennis.org/#about">Info <span>↴</span></a>
          <a href="https://jamesdennis.org/#services">Portfolio <span>↴</span></a>
          <a href="https://jamesdennis.org/#contact">Contact <span>↴</span></a>
        </div>
      </nav>
      <div class="header">
        <h1>J</h1>
        <h1>a</h1>
        <h1>m</h1>
        <h1>e</h1>
        <h1>s</h1>
      </div>

      <footer>
        <div class="footer-copy">
          <p>
            James is a Scottish web designer and developer based in Ravenna, Italy.
            Working with companies to build and proactively deliver engaging
            brand experiences, and unique in his ability to take a strategic
            approach to performance whilst being visually driven.
          </p>
        </div>
        <div class="footer-nav">
          <div class="img"></div>
          <div class="img"></div>
        </div>
      </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script>
      function startLoader() {
        let counterElement = document.querySelector(".count");
        let currentValue = 0;
        // const letters = new SplitType("ml16", { text: "chars" });

        function updateCounter() {
          if (currentValue < 100) {
            let increment = Math.floor(Math.random() * 10) + 1;
            currentValue = Math.min(currentValue + increment, 100);
            counterElement.textContent = currentValue;

            let delay = Math.floor(Math.random() * 200) + 25;
            setTimeout(updateCounter, delay);
          }
        }
        updateCounter();
      }
      startLoader();
      // The Counter Animation
      gsap.to(".count", { opacity: 0, delay: 3.5, duration: 0.5 });

      let textWrapper = document.querySelector(".ml16");
      textWrapper.innerHTML = textWrapper.textContent.replace(
        /\s/g,
        "<span class='letter'>$&</span>"
      );
      // Split Text for animating title
      const letters = new SplitType(".ml16", { text: "chars" });

      // The Title animation
      gsap.from(letters.chars, {
        opacity: 0,
        color: "white",
        y: -10,
        ease: "bounce.out",
        duration: 1,
        delay: 0.05,
        stagger: 0.05,
        repeat: 2,
      });
      // Animate Black Background down
      gsap.to(".pre-loader", {
        scale: 0.5,
        ease: "power4.inOut",
        duration: 2,
        delay: 3,
      });
      // Animate Black Box to Red
      gsap.to(".loader", {
        height: "0",
        ease: "power4.inOut",
        duration: 1.5,
        delay: 3.75,
      });
      // Animate red box out to top
      gsap.to(".loader-bg", {
        height: "0",
        ease: "power4.inOut",
        duration: 1.5,
        delay: 4,
      });
      // Animat In Main White Background and content
      gsap.to(".loader-2", {
        clipPath: "polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)",
        ease: "power4.inOut",
        duration: 1.5,
        delay: 3.5,
      });
      // Animate Main Heading up
      gsap.from(".header h1", {
        y: 200,
        ease: "power4.inOut",
        duration: 1.5,
        delay: 3.75,
        stagger: 0.05,
      });
      // Animate Footer Images in
      gsap.to(".img", {
        clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
        ease: "power4.inOut",
        duration: 1.5,
        delay: 4.5,
        stagger: 0.25,
      });
    </script>
  </body>
</html>
